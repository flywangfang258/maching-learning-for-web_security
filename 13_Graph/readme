图算法广泛应用于存在大量非结构化网状数据的领域，如社交网络、金融、交通、搜索等。网络安全领域在风控、威胁情报方面也有许多非结构化网状数据。
使用有向图识别webshell、使用有向图识别僵尸网路中的同一黑产团体。
知识图谱在风控领域的应用，包括检测账户被盗、撞库以及简单的刷单，还有在威胁情报领域的应用，包括挖掘后门文件的潜在联系以及域名的潜在联系等。


图的聚类算法最简单的一种实现是连通分支。
连通分支：指的是图中由边连接在一起的一组顶点，不要求顶点间必须两两相连，但是连通分支间的任意两个顶点之间，至少存在一条路径。
计算连通分支时不区分有向图和无向图。

Neo4j是一个高性能的图形数据库，它将结构化数据存储在网络上而不是表中，嵌入式、高性能、轻量级

安装Neo4j：在http://neo4j.com/上下载
参考博文：https://blog.csdn.net/appleyk/article/details/79091898
neo4j.bat console

输入http://localhost:7474   默认跳转到  http://localhost:7474/browser

命令   :server change-password      ，即可修改密码
Neo4j使用： https://blog.csdn.net/quiet_girl/article/details/71149776

A.创建节点1

姓名 ：鱼暖暖（节点的名称即节点的变量名,下面我们用简写的英文字母表示）
性别 ：男
职业 ：程序员（节点的类别，可作为节点属性的data）
爱好 ：NBA

利用Cypher语句创建我们上面的节点：

Create(Yu:Coder{name:'鱼暖暖',sex:'男',hobby:'NBA'})

姓名 ：凉暖暖（节点的名称即节点的变量名,下面我们用简写的英文字母表示）
性别 ：女
职业 ：摄影师（节点的类别，可作为节点属性的data）
爱好 ：拍照

Create(Liang:Photographer{name:'凉暖暖',sex:'女',hobby:'拍照'})


查询：
Match(n:Coder{name:'鱼暖暖'}) return n


创建关系（爱）连接节点1和节点2

Match(n:Coder{name:'鱼暖暖'})
Match(m:Photographer{name:'凉暖暖'})
Merge(n)-[:LOVE{years:'five years more'}]->(m)

1.查到节点1 变量名：n

2.查到节点2 变量名：m

3.关系连接 -

4.防止Match的节点不存在，关系连接的时候用Merge：如果节点不存在创建

5.关系：[:关系data]

6.连接：  （n）-[:关系]->（m）



删除节点
Match(n:Coder)
Delete n
==》error 因为此节点存在关系

匹配的时候加上一个Detach（分离）

Match(n:Coder) Detach
Delete n
如果这个要删除的节点和其他节点存在关系的话，那么加上Detach就意味着接下来的删除将会是毁灭性的，也就是，不仅删除节点，还要删除关系



传统的风控策略主要是基于模型和策略，在互联网环境下，职业黑产团伙以及羊毛党的加入，传统的风控策略已经大打折扣。
如何利用互联网上的各类数据，挖掘蛛丝马迹，进行风控呢/
知识图谱作为关系的直接表达方式，可以很好的解决这个问题。首先，知识图谱提供非常便捷的方式来添加新的数据源，
其次，知识图谱本身就是用来表示关系的，这种直观的方法可以帮助我们更有效地分析复杂关系中存在的特定的潜在风险。

盗号：从暴力破解到撞库都可能导致账户被盗
撞库攻击：黑客通过手机互联网已泄露的用户和密码信息，生成对应的字典表，尝试批量登录其他网站后，得到一系列可以登录的用户。
        很多用户在不同网站使用的是相同的账号密码，因此黑客可以通过获取用户在A网站的账户从而尝试登录B网站，可以理解为撞库攻击。

刷单：国内O2O大肆补贴，滋生了一个产业链，即所谓的“羊毛党”和“刷单”。
有一批人对收集各大电子商城、银行、实体店等各个渠道的优惠促销活动、免费业务之类的信息产生了浓厚的兴趣。有选择的参加活动，从而
以相对较低的成本甚至零成本换取物质上的实惠。这一行为被称为“媷羊毛”，而关注与热衷于媷羊毛的群体称为“羊毛党”。
“羊毛党”们主要活跃在O2O平台或者电商平台。
“P2P羊毛党”只关注互联网金融产品。


威胁情报：基于海量的数据分析。挖掘潜在的关联关系，为其它安全产品提供强大数据情报支撑。
威胁情报立足于攻击者的视角，依靠其广泛的可见性以及对整个互联网风险及威胁的全面理解，帮助我们更好地了解威胁，
包括：可能攻击的目标，使用工具，方法，以及所掌握的传输武器的互联网基础设施情况等，使遇到威胁时能准确、高效地采取行动。

黑产常通过后门文件入侵主机，组织起庞大的僵尸网络。后门文件通常通过连接C&C服务器（Command and Control Server）的域名来监听控制命令，
后门文件中硬编码少量的C&C服务器的域名，然后自动化下载最近的C&C服务器列表。
通过静态分析后门文件中硬编码的域名，关联分析域名和文件之间的关系，可以挖掘出后门文件之间的潜在关系。

